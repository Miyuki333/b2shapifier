b2shapifier
===============

b2shapifier is an extension for dbox that allows you to take an image with a transparency channel, and convert into an array of b2PolygonShape(s).

Installation
------

First, grab a copy of dbox (https://github.com/d-gamedev-team/dbox), and then place b2shapifier.d in the "dbox/collision/shapes" folder. Then open "dbox/collision/shapes/package.d", and add the following line to the public section: "import dbox.collision.shapes.b2shapifier;". That's it!

Usage
------

In order to use b2shapifier, you must first convert your image into the 32-bit RGBA format. This is outside the scope of this project, just google it. ;) Then call b2Shapifier.convert as follows:

```
b2Shapifier.convert(image, width, height, scale, tolerance)
```

The types/functions of the arguments are as follows:

ubyte[] image - A one dimensional array of pixel values for the image. Pixels should be represented as four separate bytes, in the order: red, green, blue, alpha.

uint width - The total pixel width of the image.

uint height - The total pixel height of the image.

b2Vec2 scale - An x/y scaling vector to adjust the size of the shapes generated by the conversion.

float32 tolerance - The pixel accuracy of the shape generation. Lower values generate more complex shapes with more polygons, while higher values generate more simple shapes with fewer polygons.

The return value of the b2Shapifier.convert will be a b2PolygonShape array of the shapes generated by the conversion algorithm. 

Note that as of the current version, pixels must be COMPLETELY transparent to count as part of the background. This means if the algorithm is not generating proper results, you will need to check that your transparent pixels do not have an alpha value greater than zero.

License
------

This library is licensed under the [MIT license](http://www.opensource.org/licenses/mit-license.php).
